{"componentChunkName":"component---src-templates-doc-page-template-js","path":"/docs/payer-to-payer","result":{"data":{"markdownRemark":{"html":"<p className=\"usa-intro\">\n    Payer Data Exchange (PDex) API allows exchange of data seamlessly with other\n    payers for timely benefits coordination or transitions.\n</p>\n<div\nclass=\"usa-summary-box\"\nrole=\"region\"\naria-labelledby=\"summary-box-key-information\"\n>\n<div class=\"usa-summary-box__body\">\n<h3\n    class=\"usa-summary-box__heading\"\n    id=\"summary-box-key-information\"\n>\n    Key Usecase\n</h3>\n<div class=\"usa-summary-box__text\">\n<p>\n    When a beneficiary switches from one Payer to\n    a new Payer, new Payer can use this\n    API as part of onboarding the beneficiary to retrieve\n    beneficiary data to co-ordinate the\n    transition.\n    </p>\n    <h4>Capabilities/Workflows</h4>\n    <ol class=\"usa-list\">\n      <li>\n          Find if beneficiary had coverage using $member-match \n      </li>\n      <li>\n          Fetch historical beneficiary data as a Resource Bundle \n      </li>\n      <li>\n          Fetch historical beneficiary data as bulk data (ndjson files)\n      </li>\n    </ol>\n    <p>\n    <b>Note</b>: (1) must be executed to verify if a beneficiary had coverage using $member-match irrespective of using (2) or (3) to fetch\n    historical beneficiary data. The exact <b>Patient ID</b> value required to run (2) or (3) is returned as <b>UMB</b> value in successful response to (1).\n    </p>\n</div>\n</div>\n</div>\n<h2>Workflows</h2>\n<p>See detailed workflows supported along with sample requests and responses. You need replace <code class=\"language-text\">&lt;AccessToken></code> with an actual <code class=\"language-text\">AccessToken</code> in the examples to execute any API shown below. If you are using Postman collection, setup the AccessToken in Authorization section.</p>\n<div class=\"usa-alert usa-alert--info usa-alert--no-icon\">\n  <div class=\"usa-alert__body\">\n    <p class=\"usa-alert__text\">\n      <b>We recommend</b> using <b>Postman</b> for API testing,\n      as it is very easy and visual to work with sample data to\n      quickly try out. Download\n      <a\n        href=\"/assets/PayerToPayerAPI.postman_collection.json\"\n        download\n      >\n        Postman collection\n      </a>\n      and follow along.\n    </p>\n  </div>\n</div>\n<h3>Retrieving Access Token via Curl</h3>\n<p>Use the following curl command to retrieve access Token. Please replace <code class=\"language-text\">&lt;Base64 encoded value of clientid:clientsecret></code> with value created from client ID and client Secrets provided in the Github documentation. Please refer to Sample Client Credentials section for some test credentials.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> --location --request POST <span class=\"token string\">'https://bcda-dpc-api-dev.softrams.cloud/public/token'</span> <span class=\"token punctuation\">\\</span>\n--header <span class=\"token string\">'Accept: application/json'</span> <span class=\"token punctuation\">\\</span>\n--header <span class=\"token string\">'Authorization: Basic &lt;Base64 encoded value of clientid:clientsecret>'</span> <span class=\"token punctuation\">\\</span>\n--header <span class=\"token string\">'Content-Type: application/x-www-form-urlencoded'</span> <span class=\"token punctuation\">\\</span>\n--data-urlencode <span class=\"token string\">'grant_type=client_credentials'</span> <span class=\"token punctuation\">\\</span>\n--data-urlencode <span class=\"token string\">'scope=user/*.*'</span></code></pre></div>\n<h3>Retrieving Access Token via Postman</h3>\n<p>Click on the collection name \"Payer Data Exchange (PDex) API\" and click on \"Variables\" to view a list of collection level variables.\nConfigure <code class=\"language-text\">CLIENT_ID</code> and <code class=\"language-text\">CLIENT_SECRET</code> values from a test credential provided in \"Sample Client Credentials\" section on the repo README page.</p>\n<p>Once configured, run \"Retrieve Access Token\" request under OAUTH2 folder. This will automatically extract the <code class=\"language-text\">access_token</code> from response and saves as a collection variable <code class=\"language-text\">ACCESS_TOKEN</code>.</p>\n<div class=\"usa-alert usa-alert--info usa-alert--no-icon\">\n  <div class=\"usa-alert__body\">\n    <p class=\"usa-alert__text\">\nAll requests in this Postman collection are already configured to use this Access Token in authorization header, so there is no need to do anything more to setup Access Token for each request.\n    </p>\n  </div>\n</div>\n<h3>Workflow (WF-01) : Find if beneficiary had Part A or Part B Coverage</h3>\n<p>Find if beneficiary had prior coverage via $member-match operation.\nIf successful, response will include Member ID known to Payer Data Exchange (PDex) API Service.</p>\n<h4>Find beneficiary via <code class=\"language-text\">$member-match</code></h4>\n<p>Invoke <code class=\"language-text\">$member-match</code> using Medicare Benificiary ID (as MB) along with other demographics information like DOB.\nSee <b>Example 01</b> below for a sample request contents.</p>\n<h5>Example 01. Patient/<code class=\"language-text\">$member-match</code> Request</h5>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> --location --request POST <span class=\"token punctuation\">\\</span>\n<span class=\"token string\">'https://bcda-dpc-dev.softrams.cloud:9443/fhir-server/api/v4/Patient/$member-match'</span> <span class=\"token punctuation\">\\</span>\n--header <span class=\"token string\">'Content-Type: application/fhir+json'</span> <span class=\"token punctuation\">\\</span>\n--header <span class=\"token string\">'Authorization: &lt;AccessToken>'</span> <span class=\"token punctuation\">\\</span>\n--data-raw <span class=\"token string\">'{\n  \"resourceType\": \"Parameters\",\n  \"id\": \"member-match-in\",\n  \"parameter\": [\n    {\n      \"name\": \"MemberPatient\",\n      \"resource\": {\n        \"resourceType\": \"Patient\",\n        \"id\": \"1\",\n        \"identifier\": [\n          {\n            \"type\": {\n              \"coding\": [\n                {\n                  \"system\": \"http://terminology.hl7.org/CodeSystem/v2-0203\",\n                  \"code\": \"MB\"\n                }\n              ]\n            },\n            \"system\": \"https://bluebutton.cms.gov/resources/variables/bene_id\",\n            \"value\": \"564730725596728\",\n            \"assigner\": {\n              \"display\": \"Old Payer\"\n            }\n          }\n        ],\n        \"name\": [\n          {\n            \"use\": \"official\",\n            \"family\": \"Parker\",\n            \"given\": [\n              \"Malorie\"\n            ]\n          }\n        ],\n        \"gender\": \"male\",\n        \"birthDate\": \"1937-07-28\"\n      }\n    },\n    {\n      \"name\": \"OldCoverage\",\n      \"resource\": {\n        \"resourceType\": \"Coverage\",\n        \"id\": \"9876B1\",\n        \"contained\": [\n          {\n            \"resourceType\": \"Organization\",\n            \"id\": \"payer\",\n            \"identifier\": [\n              {\n                \"system\": \"http://hl7.org/fhir/sid/us-npi\",\n                \"value\": \"9876543210\"\n              }\n            ],\n            \"active\": true,\n            \"name\": \"Old Health Plan\",\n            \"endpoint\": [\n              {\n                \"reference\": \"http://example.org/old-payer/fhir\"\n              }\n            ]\n          }\n        ],\n        \"identifier\": [\n          {\n            \"system\": \"http://example.org/old-payer\",\n            \"value\": \"DH10001235\"\n          }\n        ],\n        \"status\": \"draft\",\n        \"beneficiary\": {\n          \"reference\": \"Patient/1\"\n        },\n        \"period\": {\n          \"start\": \"2011-05-23\",\n          \"end\": \"2012-05-23\"\n        },\n        \"payor\": [\n          {\n            \"reference\": \"#payer\"\n          }\n        ],\n        \"class\": [\n          {\n            \"type\": {\n              \"coding\": [\n                {\n                  \"system\": \"http://terminology.hl7.org/CodeSystem/coverage-class\",\n                  \"code\": \"group\"\n                }\n              ]\n            },\n            \"value\": \"CB135\"\n          },\n          {\n            \"type\": {\n              \"coding\": [\n                {\n                  \"system\": \"http://terminology.hl7.org/CodeSystem/coverage-class\",\n                  \"code\": \"plan\"\n                }\n              ]\n            },\n            \"value\": \"B37FC\"\n          },\n          {\n            \"type\": {\n              \"coding\": [\n                {\n                  \"system\": \"http://terminology.hl7.org/CodeSystem/coverage-class\",\n                  \"code\": \"subplan\"\n                }\n              ]\n            },\n            \"value\": \"P7\"\n          },\n          {\n            \"type\": {\n              \"coding\": [\n                {\n                  \"system\": \"http://terminology.hl7.org/CodeSystem/coverage-class\",\n                  \"code\": \"class\"\n                }\n              ]\n            },\n            \"value\": \"SILVER\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"NewCoverage\",\n      \"resource\": {\n        \"resourceType\": \"Coverage\",\n        \"id\": \"AA87654\",\n        \"contained\": [\n          {\n            \"resourceType\": \"Organization\",\n            \"id\": \"payer\",\n            \"identifier\": [\n              {\n                \"system\": \"http://hl7.org/fhir/sid/us-npi\",\n                \"value\": \"0123456789\"\n              }\n            ],\n            \"active\": true,\n            \"name\": \"New Health Plan\",\n            \"endpoint\": [\n              {\n                \"reference\": \"http://example.org/new-payer/fhir\"\n              }\n            ]\n          }\n        ],\n        \"identifier\": [\n          {\n            \"system\": \"http://example.org/new-payer/identifiers/coverage\",\n            \"value\": \"234567\"\n          }\n        ],\n        \"status\": \"active\",\n        \"beneficiary\": {\n          \"reference\": \"Patient/1\"\n        },\n        \"payor\": [\n          {\n            \"reference\": \"#payer\"\n          }\n        ]\n      }\n    }\n  ]\n}'</span></code></pre></div>\n<h4>Successful Response to <code class=\"language-text\">$member-match</code></h4>\n<p>Store the identifier (UMB value) in the response as the Patient ID for future API requests.\nSee <b>Example 02</b> below for a sample response contents.</p>\n<h5>Example 02. Patient/<code class=\"language-text\">$member-match</code> - Successful Response</h5>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"resourceType\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Parameters\"</span>,\n    <span class=\"token string\">\"parameter\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"name\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"MemberPatient\"</span>,\n            <span class=\"token string\">\"resource\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"resourceType\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Patient\"</span>,\n                <span class=\"token string\">\"id\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"1\"</span>,\n                <span class=\"token string\">\"identifier\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token punctuation\">{</span>\n                        <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token string\">\"coding\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                                <span class=\"token punctuation\">{</span>\n                                    <span class=\"token string\">\"system\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"http://terminology.hl7.org/CodeSystem/v2-0203\"</span>,\n                                    <span class=\"token string\">\"code\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"MB\"</span>\n                                <span class=\"token punctuation\">}</span>\n                            <span class=\"token punctuation\">]</span>\n                        <span class=\"token punctuation\">}</span>,\n                        <span class=\"token string\">\"system\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"https://bluebutton.cms.gov/resources/variables/bene_id\"</span>,\n                        <span class=\"token string\">\"value\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"564730725596728\"</span>,\n                        <span class=\"token string\">\"assigner\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token string\">\"display\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Old Payer\"</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>,\n                    <span class=\"token punctuation\">{</span>\n                        <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token string\">\"coding\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                                <span class=\"token punctuation\">{</span>\n                                    <span class=\"token string\">\"system\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"http://terminology.hl7.org/CodeSystem/v2-0203\"</span>,\n                                    <span class=\"token string\">\"code\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"UMB\"</span>,\n                                    <span class=\"token string\">\"display\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Member Number\"</span>,\n                                    <span class=\"token string\">\"userSelected\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token boolean\">false</span>\n                                <span class=\"token punctuation\">}</span>\n                            <span class=\"token punctuation\">]</span>\n                        <span class=\"token punctuation\">}</span>,\n                        <span class=\"token string\">\"system\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"https://bluebutton.cms.gov/resources/variables/bene_id\"</span>,\n                        <span class=\"token string\">\"value\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"564730725596728\"</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">]</span>,\n                <span class=\"token string\">\"name\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token punctuation\">{</span>\n                        <span class=\"token string\">\"use\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"official\"</span>,\n                        <span class=\"token string\">\"family\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Person\"</span>,\n                        <span class=\"token string\">\"given\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                            <span class=\"token string\">\"Patricia\"</span>,\n                            <span class=\"token string\">\"Ann\"</span>\n                        <span class=\"token punctuation\">]</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">]</span>,\n                <span class=\"token string\">\"gender\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"female\"</span>,\n                <span class=\"token string\">\"birthDate\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"1974-12-25\"</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>,\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"name\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"NewCoverage\"</span>,\n            <span class=\"token string\">\"resource\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"resourceType\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Coverage\"</span>,\n                <span class=\"token string\">\"id\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"AA87654\"</span>,\n                <span class=\"token string\">\"contained\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token punctuation\">{</span>\n                        <span class=\"token string\">\"resourceType\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Organization\"</span>,\n                        <span class=\"token string\">\"id\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"payer\"</span>,\n                        <span class=\"token string\">\"identifier\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                            <span class=\"token punctuation\">{</span>\n                                <span class=\"token string\">\"system\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"http://hl7.org/fhir/sid/us-npi\"</span>,\n                                <span class=\"token string\">\"value\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"0123456789\"</span>\n                            <span class=\"token punctuation\">}</span>\n                        <span class=\"token punctuation\">]</span>,\n                        <span class=\"token string\">\"active\"</span><span class=\"token builtin class-name\">:</span> true,\n                        <span class=\"token string\">\"name\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"New Health Plan\"</span>,\n                        <span class=\"token string\">\"endpoint\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                            <span class=\"token punctuation\">{</span>\n                                <span class=\"token string\">\"reference\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"http://example.org/new-payer/fhir\"</span>\n                            <span class=\"token punctuation\">}</span>\n                        <span class=\"token punctuation\">]</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">]</span>,\n                <span class=\"token string\">\"identifier\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token punctuation\">{</span>\n                        <span class=\"token string\">\"system\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"http://example.org/new-payer/identifiers/coverage\"</span>,\n                        <span class=\"token string\">\"value\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"234567\"</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">]</span>,\n                <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"active\"</span>,\n                <span class=\"token string\">\"beneficiary\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token string\">\"reference\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Patient/1\"</span>\n                <span class=\"token punctuation\">}</span>,\n                <span class=\"token string\">\"payor\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token punctuation\">{</span>\n                        <span class=\"token string\">\"reference\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"#payer\"</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4>Unsuccessful Response to <code class=\"language-text\">$member-match</code></h4>\n<p>If a match is not found or more than one match is found, FHIR server will respond with 422 (Unprocessable Entity)\nSee <b>Example 03</b> below for a sample failed response contents.</p>\n<h5>Example 03. Patient/<code class=\"language-text\">$member-match</code> - Failure Response</h5>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"resourceType\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"OperationOutcome\"</span>,\n    <span class=\"token string\">\"id\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"ac-10-a-1d-cbc7daef-63f0-40a6-b74d-af177ca4beb3\"</span>,\n    <span class=\"token string\">\"issue\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"severity\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"fatal\"</span>,\n            <span class=\"token string\">\"code\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"unprocessable-entity\"</span>,\n            <span class=\"token string\">\"details\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"text\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"No member match found\"</span>\n            <span class=\"token punctuation\">}</span>,\n            <span class=\"token string\">\"expression\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                <span class=\"token string\">\"&lt;empty>\"</span>\n            <span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Workflow (WF-02) : Fetch Data as Resource Bundle via <code class=\"language-text\">$everything</code></h3>\n<h4>Invoke <code class=\"language-text\">$everything</code></h4>\n<p>Fetch bundled output using $everything operation on Patient resource. Invoke Patient/{UMB Value as Patient ID}/$everything to fetch a bundle of resources for the beneficiary. See <b>Example 04</b> below for a sample request contents.</p>\n<h5>Example 04 : Patient/{id}/<code class=\"language-text\">$everything</code> - Bundle Request</h5>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> --location --request GET <span class=\"token punctuation\">\\</span>\n<span class=\"token string\">'https://bcda-dpc-dev.softrams.cloud:9443/fhir-server/api/v4/Patient/564730725596728/$everything'</span> <span class=\"token punctuation\">\\</span>\n--header <span class=\"token string\">'Authorization: &lt;AccessToken>'</span></code></pre></div>\n<h4>Successful Response</h4>\n<p>Response will include a bundle of resources related to the beneficiary.\nSee <b>Example 05</b> below for a sample response contents.</p>\n<h5>Example 05. Patient/{id}/<code class=\"language-text\">$everything</code> - Bundle Request - Successful Response</h5>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"resourceType\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Bundle\"</span>,\n    <span class=\"token string\">\"id\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"31ac5059-5a09-4aab-a5c6-ded52ffe7390\"</span>,\n    <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"searchset\"</span>,\n    <span class=\"token string\">\"total\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">11</span>,\n    <span class=\"token string\">\"entry\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"fullUrl\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"https://bcda-dpc-dev.softrams.cloud:9443/fhir-server/api/v4/Patient/564730725596728\"</span>,\n            <span class=\"token string\">\"resource\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"resourceType\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Patient\"</span>,\n                <span class=\"token string\">\"id\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"564730725596728\"</span>\n                <span class=\"token punctuation\">..</span>. <span class=\"token punctuation\">(</span>Truncated Resourcee<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">..</span>. <span class=\"token punctuation\">(</span>Truncated List of Resources<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"resource\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"resourceType\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Provenance\"</span>,\n                <span class=\"token string\">\"id\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"e83fb3f5-3887-444b-bb5d-f04b7fa7d4b9\"</span>,\n                <span class=\"token string\">\"target\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token punctuation\">{</span>\n                        <span class=\"token string\">\"reference\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Bundle/c09a0d03-4bc5-4a4e-ac38-0ebbb28c4b8c\"</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">]</span>,\n                <span class=\"token string\">\"recorded\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2021-08-10T13:49:59.380916Z\"</span>,\n                <span class=\"token string\">\"agent\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token punctuation\">{</span>\n                        <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token string\">\"coding\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                                <span class=\"token punctuation\">{</span>\n                                    <span class=\"token string\">\"system\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"http://hl7.org/fhir/us/core/CodeSystem/us-core-provenance-participant-type\"</span>,\n                                    <span class=\"token string\">\"code\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"transmitter\"</span>,\n                                    <span class=\"token string\">\"display\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Transmitter\"</span>\n                                <span class=\"token punctuation\">}</span>\n                            <span class=\"token punctuation\">]</span>\n                        <span class=\"token punctuation\">}</span>,\n                        <span class=\"token string\">\"who\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token string\">\"reference\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Organization/CMS-ORG-ID\"</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">]</span>,\n                <span class=\"token string\">\"entity\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token punctuation\">{</span>\n                        <span class=\"token string\">\"extension\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                            <span class=\"token punctuation\">{</span>\n                                <span class=\"token string\">\"url\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"http://hl7.org/fhir/us/davinci-pdex/StructureDefinition/ProvenanceSourceFrom\"</span>,\n                                <span class=\"token string\">\"valueCodeableConcept\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                                    <span class=\"token string\">\"coding\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                                        <span class=\"token punctuation\">{</span>\n                                            <span class=\"token string\">\"system\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"http://hl7.org/fhir/us/davinci-pdex/CodeSystem/ProvenancePayerDataSource\"</span>,\n                                            <span class=\"token string\">\"code\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"hl7fhirr4\"</span>,\n                                            <span class=\"token string\">\"display\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"FHIR R4\"</span>\n                                        <span class=\"token punctuation\">}</span>\n                                    <span class=\"token punctuation\">]</span>\n                                <span class=\"token punctuation\">}</span>\n                            <span class=\"token punctuation\">}</span>\n                        <span class=\"token punctuation\">]</span>,\n                        <span class=\"token string\">\"role\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"source\"</span>,\n                        <span class=\"token string\">\"what\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token string\">\"display\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"No Reference available\"</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Workflow (WF-03) : Fetch Data as Bulk Data</h3>\n<h4>Request for beneficiary data as Bulk Data using $everything operation on Patient resource</h4>\n<p>Invoke Patient/{UMB Value as Patient ID}/$everything with 'Prefer' header requesting to fetch data of the beneficiary as Bulk Data.\nSee <b>Example 06</b> below for a sample request contents.</p>\n<h5>Example 06. Patient/{id}/<code class=\"language-text\">$everything</code> - Bulk export Request</h5>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> --location --request GET <span class=\"token punctuation\">\\</span>\n<span class=\"token string\">'https://bcda-dpc-dev.softrams.cloud:9443/fhir-server/api/v4/Patient/564730725596728/$everything'</span> <span class=\"token punctuation\">\\</span>\n--header <span class=\"token string\">'Prefer: respond-async'</span> <span class=\"token punctuation\">\\</span>\n--header <span class=\"token string\">'Authorization: &lt;AccessToken>'</span> <span class=\"token punctuation\">\\</span></code></pre></div>\n<p>Response will include <code class=\"language-text\">Content-Location</code> in headers, that will include Job ID (and URL), where status of bulk data export\npreparation can be retrieved. See <b>Example 07</b> below for a sample response header contents.</p>\n<h5>Example 07. Patient/{id}/<code class=\"language-text\">$everything</code> - Bulk export Request - Response</h5>\n<p>Response will have empty body and header will includee the 'content-location' information.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"> HTTP/2 <span class=\"token number\">202</span>\n date: Mon, 09 Aug <span class=\"token number\">2021</span> <span class=\"token number\">21</span>:32:10 GMT\n content-length: <span class=\"token number\">0</span>\n content-location: https://bcda-dpc-dev.softrams.cloud:9443/fhir-server/api/v4/<span class=\"token variable\">$bulkdata</span>-status?job<span class=\"token operator\">=</span>cOg7dz0hh%2B9pNGeNMS7kxQ\n content-language: en-US</code></pre></div>\n<h4>Check if Bulk Data is available for download</h4>\n<p>Call Job Status API end point, returned in previous step to check for status. Until job is completed, the API will return HTTP 202 with HTTP Headers showing the % progess information. See <b>Example 08</b> below for a sample response contents once ready.</p>\n<h5>Example 08. Patient/{id}/<code class=\"language-text\">$everything</code> - Bulk export Job Status - Response</h5>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"transactionTime\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2021-08-09T21:31:52.24Z\"</span>,\n    <span class=\"token string\">\"request\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"https://bcda-dpc-dev.softrams.cloud:9443/fhir-server/api/v4/Patient/564730725596728/<span class=\"token variable\">$everything</span>\"</span>,\n    <span class=\"token string\">\"requiresAccessToken\"</span><span class=\"token builtin class-name\">:</span> false,\n    <span class=\"token string\">\"output\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Coverage\"</span>,\n            <span class=\"token string\">\"url\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"https://bcda-dpc-dev.softrams.cloud:9443/bulk/data/ibfk9QGuZDlSZBmDgyhCWfW3naBYgGGdOUQk9G1gVRE/Coverage_1.ndjson\"</span>,\n            <span class=\"token string\">\"count\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">2</span>\n        <span class=\"token punctuation\">}</span>,\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Patient\"</span>,\n            <span class=\"token string\">\"url\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"https://bcda-dpc-dev.softrams.cloud:9443/bulk/data/ibfk9QGuZDlSZBmDgyhCWfW3naBYgGGdOUQk9G1gVRE/Patient_1.ndjson\"</span>,\n            <span class=\"token string\">\"count\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>\n        <span class=\"token punctuation\">}</span>,\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"type\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"ExplanationOfBenefit\"</span>,\n            <span class=\"token string\">\"url\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"https://bcda-dpc-dev.softrams.cloud:9443/bulk/data/rlK9h7vi5A7Tc277tGIsggTnXpqtkBED_s-IVQZ7QsM/ExplanationOfBenefit_1.ndjson\"</span>,\n            <span class=\"token string\">\"count\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">8</span>\n        <span class=\"token punctuation\">}</span>,\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4>Download Bulk Data files</h4>\n<p>Using the url for each file type included in the response, download bulk files.</p>","frontmatter":{"date":"August 10, 2021","path":"/docs/payer-to-payer","title":"Payer Data Exchange (PDex) API","sidenav":true}}},"pageContext":{}},"staticQueryHashes":["2236531902","2789967119","63159454"]}